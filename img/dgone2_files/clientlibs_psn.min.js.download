$(function(a){a.psn=a.psn||{};
var b=a.psn;
b.Inherit=function(){};
b.Inherit.inherit=function(d){if(Object.create){return Object.create(d)
}function c(){}c.prototype=d;
return new c()
}
});
$(function(a){a.psn=a.psn||{};
var b=a.psn;
b.EventDispatcher=function(){this.listeners={}
};
b.EventDispatcher.prototype.addEventListener=d;
b.EventDispatcher.prototype.removeEventListener=c;
b.EventDispatcher.prototype.dispatchEvent=e;
function d(g,h,f){if(!this.listeners[g]){this.listeners[g]=[]
}this.listeners[g].push(h)
}function c(g,h){if(!this.listeners[g]){return
}var f=this;
this.listeners[g].some(function(j,k){if(j==h){f.listeners.splice(k,1)
}})
}function e(h,g){var j=this.listeners[h.type];
for(var f=0;
f<j.length;
++f){j[f](g)
}}});
$(function(b){b.psn=b.psn||{};
var c=b.psn;
c.AjaxLoader=function(){this.listeners={}
};
c.AjaxLoader.prototype=c.Inherit.inherit(c.EventDispatcher.prototype);
c.AjaxLoader.constructor=c.AjaxLoader;
c.AjaxLoader.prototype.onLoadComplete=f;
c.AjaxLoader.prototype.load=d;
c.AjaxLoader.prototype.onLoadFail=a;
function d(g){var h=this;
$.ajax({url:g,method:"GET",cache:false,type:"json"}).done(function(k,l,i){if(typeof k=="string"){k=JSON.parse(k)
}var j=k;
h.onLoadComplete(j)
}).fail(function(i,k,j){h.onLoadFail(arguments)
});
return this
}function f(h){var g=e();
var i=null;
if(g.indexOf("ie")!=-1||g.indexOf("playstation 3")!=-1||g.indexOf("android")!=-1){i=document.createEvent("Event");
i.initEvent("onLoadComplete",true,false)
}else{i=new Event("onLoadComplete")
}this.dispatchEvent(i,h)
}function a(g){var h=new Event("onLoadError");
this.dispatchEvent(h,g)
}function e(){var i=window.navigator.userAgent.toLowerCase();
var g=window.navigator.appVersion.toLowerCase();
var h="unknown";
if(i.indexOf("msie")!=-1){if(g.indexOf("msie 6.")!=-1){h="ie6"
}else{if(g.indexOf("msie 7.")!=-1){h="ie7"
}else{if(g.indexOf("msie 8.")!=-1){h="ie8"
}else{if(g.indexOf("msie 9.")!=-1){h="ie9"
}else{if(g.indexOf("msie 10.")!=-1){h="ie10"
}else{h="ie"
}}}}}}else{if(i.indexOf("trident/7")!=-1){h="ie11"
}else{if(i.indexOf("chrome")!=-1){h="chrome"
}else{if(i.indexOf("safari")!=-1){if(i.indexOf("iphone")!=-1){h="iphone"
}else{if(i.indexOf("android")!=-1){h="android"
}else{h="safari"
}}}else{if(i.indexOf("opera")!=-1){h="opera"
}else{if(i.indexOf("firefox")!=-1){h="firefox"
}else{if(i.indexOf("playstation vita")!=-1){h="playstation vita"
}else{if(i.indexOf("playstation 4")!=-1){h="playstation 4"
}else{if(i.indexOf("playstation 3")!=-1){h="playstation 3"
}}}}}}}}}return h
}});
$(function(a){a.psn=a.psn||{};
var b=a.psn;
b.PSNStatusData=function(){};
b.PSNStatusData.API_DEVELOP="https://status.e1-np.playstation.com/data/statuses/region/SCEJA/ID/statusIndicator.json";
b.PSNStatusData.API_STAGING="https://status.prod-qa.api.playstation.com/api/statuses/region/SCEJA/ID/statusIndicator";
b.PSNStatusData.API_PRODUCTION="https://status.api.playstation.com/api/statuses/region/SCEJA/ID/statusIndicator";
b.PSNStatusData.OK="OK";
b.PSNStatusData.Outage="OUTAGE";
b.PSNStatusData.Down="DOWN";
b.PSNStatusData.Degraded="DEGRADED";
b.PSNStatusData.Maintenance="MAINTENANCE";
b.PSNStatusData.message={};
b.PSNStatusData.message[b.PSNStatusData.OK]="";
b.PSNStatusData.message[b.PSNStatusData.Outage]="Some PlayStation™Network services are experiencing issues.";
b.PSNStatusData.message[b.PSNStatusData.Down]="Some PlayStation™Network services are experiencing issues.";
b.PSNStatusData.message[b.PSNStatusData.Degraded]="PlayStation™Network is currently undergoing routine maintenance. Thank you for your patience.";
b.PSNStatusData.message[b.PSNStatusData.Maintenance]="PlayStation™Network is currently undergoing routine maintenance. Thank you for your patience.";
b.PSNStatusData.link={};
b.PSNStatusData.link[b.PSNStatusData.OK]="";
b.PSNStatusData.link[b.PSNStatusData.Outage]="https://status.playstation.com/en-id/";
b.PSNStatusData.link[b.PSNStatusData.Down]="https://status.playstation.com/en-id/";
b.PSNStatusData.link[b.PSNStatusData.Degraded]="https://status.playstation.com/en-id/";
b.PSNStatusData.link[b.PSNStatusData.Maintenance]="https://status.playstation.com/en-id/"
});
$(function(a){a.psn=a.psn||{};
var b=a.psn;
b.FactoryPSNStatus=function(){};
b.FactoryPSNStatus.create=function(h){var c=h.statusType.toUpperCase();
var g=b.PSNStatusData.message[c];
var f=b.PSNStatusData.link[c];
var e=h.iconUrl;
var d="<style>.psn-status{width:100%;background-color:#eee;padding:0 15px;box-sizing:border-box;position:relative;text-align:center}.psn-status .psn-status-link{display:inline-block;width:100%;text-decoration:none;color:#1f1f1f!important}.psn-status .psn-status-close img,.psn-status .psn-status-link .psn-status-contents .status-arrow img,.psn-status .psn-status-link .psn-status-contents img{max-width:none;height:auto;width:auto}.psn-status-link:hover{text-decoration:none;color:#0068bf!important}.psn-status .psn-status-link .psn-status-contents{text-align:center;padding:15px 0 11px;font-size:14px}.psn-status .psn-status-link .psn-status-contents .status-message{line-height:1.5;vertical-align:middle;display:inline-block;padding-left:1em;padding-right:1em;font-size:14px;box-sizing:border-box}.psn-status .psn-status-link .psn-status-contents .status-arrow{display:inline-block}.psn-status .psn-status-close{display:block;text-align:right;padding:1em;position:absolute;top:3%;right:0;font-size:14px;line-height:1.5}.psn-status .psn-status-close img{vertical-align:middle}@media screen and (max-width:768px){.psn-status .psn-status-link .psn-status-contents{text-align:left}.psn-status .psn-status-link .psn-status-contents .status-message{width:87%;font-size:12px;padding-left:.5em}.psn-status .psn-status-link .psn-status-contents .status-arrow{display:none}.psn-status .psn-status-close{position:absolute;top: 5%;}}@media screen and (max-width:545px){.psn-status .psn-status-close{position:absolute;top:15%}}@media all and (-ms-high-contrast:none){.psn-status .psn-status-close,::-ms-backdrop{right:30px}.psn-status .psn-status-close{right:14px}}</style>";
d+='<div id="psn-status" class="psn-status">';
d+='<a class="psn-status-link" href="https://status.playstation.com/en-id/" target="_blank">';
d+='<div class="psn-status-contents">';
d+='<img style="width: 24px; height: 24px; vertical-align: middle;" src="'+e+'">';
d+='<span class="status-message">'+g+"</span>";
d+='<span class="status-arrow"><img style="vertical-align: middle;" src="/etc/designs/pscom/ja-jp/images/psn/arrow.png"></span>';
d+="</div>";
d+="</a>";
d+='<a id="js-status-close" class="psn-status-close" href="javascript:void(0)">';
d+="<div>";
d+='<img style="width: 16px; height: 16px;" src="/etc/designs/pscom/ja-jp/images/psn/close.svg">';
d+="</div>";
d+="</a>";
d+="</div>";
return d
}
});
$(function(b){b.psn=b.psn||{};
var e=b.psn;
var d=f();
e.PSNStatusCookie=function(){};
e.PSNStatusCookie.prototype.write=g;
e.PSNStatusCookie.prototype.read=h;
e.PSNStatusCookie.prototype.check=a;
e.PSNStatusCookie.PSN_STATUS_ID="psn_status";
e.PSNStatusCookie.cookies={};
function g(){var i=new e.UserAgent();
if(i.check()=="chrome"){window.sessionStorage[e.PSNStatusCookie.PSN_STATUS_ID]=1;
trace("set Session Strage")
}else{c.setItem("psn_status",1,0,"/",d,false)
}}function h(){var m=document.cookie.split("; ");
for(var l=0;
l<m.length;
++l){var j=m[l].split("=");
var k=j[0];
var n=j[1];
e.PSNStatusCookie.cookies[k]=n
}trace(e.PSNStatusCookie.cookies)
}function a(){var i=new e.UserAgent();
if(i.check()=="chrome"){return(window.sessionStorage[e.PSNStatusCookie.PSN_STATUS_ID])?true:false
}else{return(e.PSNStatusCookie.cookies[e.PSNStatusCookie.PSN_STATUS_ID])?true:false
}}var c={getItem:function(i){if(!i||!this.hasItem(i)){return null
}return unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(i).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))
},setItem:function(l,o,k,j,i,m){if(!l||/^(?:expires|max\-age|path|domain|secure)$/i.test(l)){return
}var n="";
if(k){switch(k.constructor){case Number:n=k===Infinity?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+k;
break;
case String:n="; expires="+k;
break;
case Date:n="; expires="+k.toGMTString();
break
}}document.cookie=escape(l)+"="+escape(o)+n+(i?"; domain="+i:"")+(j?"; path="+j:"")+(m?"; secure":"")
},removeItem:function(j,i){if(!j||!this.hasItem(j)){return
}document.cookie=escape(j)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; path="+i:"")
},hasItem:function(i){return(new RegExp("(?:^|;\\s*)"+escape(i).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie)
},keys:function(){var i=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);
for(var j=0;
j<i.length;
j++){i[j]=unescape(i[j])
}return i
}};
function f(){var i=location.hostname;
if(i.indexOf("asia.playstation.com")!=-1){i="asia.playstation.com"
}return i
}});
var IS_PSN_ALERT_LOADED=false;
main_psn_alert();
function main_psn_alert(){$(function(g){g.psn=g.psn||{};
var e=g.psn;
var f="#psn-status-icon";
var i="https://status.playstation.com/data/statuses/region/SCEJA/ID/statusIndicator.json";
if(!$(f).length){return
}if(IS_PSN_ALERT_LOADED){return
}IS_PSN_ALERT_LOADED=true;
var l=new e.AjaxLoader();
l.addEventListener("onLoadComplete",a,false);
l.addEventListener("onLoadError",m,false);
l.load(i);
function d(){var n=new e.PSNStatusCookie();
n.read();
return n.check()
}function a(o){if($(f).length){$(f).attr("src",o.iconUrl)
}if(d()){return
}if(o.statusType==e.PSNStatusData.OK){return
}if(o.statusType=="Maintenance"||o.statusType=="MAINTENANCE"){return
}var n=e.FactoryPSNStatus.create(o);
$("#global-header").prepend(n);
h();
j();
k()
}function m(){}function j(){var p=new e.UserAgent();
if(p.isPS4()){var o=$("#global-header");
var n=o.height();
if($("#top-tv").length){$("#top-tv").css({height:n})
}if($("#psc-tv-anchor").length){$("#psc-tv-anchor").css({top:n})
}}}function h(){$("#js-status-close").click(function(n){n.preventDefault();
$("#psn-status").hide();
var o=new e.PSNStatusCookie();
o.write();
j();
k()
})
}function k(){$("#nav-global-sp").css({top:$("#global-header").height()})
}e.UserAgent=function(n){this.debugUserAgent=n
};
e.UserAgent.prototype.check=b;
e.UserAgent.prototype.isPS4=c;
function c(){return(this.check()=="playstation 4")?true:false
}function b(){if(this.debugUserAgent){return this.debugUserAgent
}var p=window.navigator.userAgent.toLowerCase();
var n=window.navigator.appVersion.toLowerCase();
var o="unknown";
if(p.indexOf("msie")!=-1){if(n.indexOf("msie 6.")!=-1){o="ie6"
}else{if(n.indexOf("msie 7.")!=-1){o="ie7"
}else{if(n.indexOf("msie 8.")!=-1){o="ie8"
}else{if(n.indexOf("msie 9.")!=-1){o="ie9"
}else{if(n.indexOf("msie 10.")!=-1){o="ie10"
}else{o="ie"
}}}}}}else{if(p.indexOf("trident/7")!=-1){o="ie11"
}else{if(p.indexOf("chrome")!=-1){o="chrome"
}else{if(p.indexOf("safari")!=-1){if(p.indexOf("iphone")!=-1){o="iphone"
}else{if(p.indexOf("android")!=-1){o="android"
}else{o="safari"
}}}else{if(p.indexOf("opera")!=-1){o="opera"
}else{if(p.indexOf("firefox")!=-1){o="firefox"
}else{if(p.indexOf("playstation vita")!=-1){o="playstation vita"
}else{if(p.indexOf("playstation 4")!=-1){o="playstation 4"
}else{if(p.indexOf("playstation 3")!=-1){o="playstation 3"
}}}}}}}}}return o
}})
};